"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/dashboard",{

/***/ "./components/Chat/Chat.tsx":
/*!**********************************!*\
  !*** ./components/Chat/Chat.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Chat\": function() { return /* binding */ Chat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tabler_icons_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @tabler/icons-react */ \"./node_modules/@tabler/icons-react/dist/esm/tabler-icons-react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\n/* harmony import */ var next_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-i18next */ \"./node_modules/next-i18next/dist/esm/index.js\");\n/* harmony import */ var pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pdfmake/build/pdfmake */ \"./node_modules/pdfmake/build/pdfmake.js\");\n/* harmony import */ var pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! pdfmake/build/vfs_fonts */ \"./node_modules/pdfmake/build/vfs_fonts.js\");\n/* harmony import */ var _utils_data_throttle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/data/throttle */ \"./utils/data/throttle.ts\");\n/* harmony import */ var _utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/utils/app/conversation */ \"./utils/app/conversation.ts\");\n/* harmony import */ var _pages_api_home_home_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/pages/api/home/home.context */ \"./pages/api/home/home.context.tsx\");\n/* harmony import */ var _ChatLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ChatLoader */ \"./components/Chat/ChatLoader.tsx\");\n/* harmony import */ var _ErrorMessageDiv__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ErrorMessageDiv */ \"./components/Chat/ErrorMessageDiv.tsx\");\n/* harmony import */ var _ChatTextToSpeech__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ChatTextToSpeech */ \"./components/Chat/ChatTextToSpeech.tsx\");\n/* harmony import */ var _ChatStartOfficeVisit__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ChatStartOfficeVisit */ \"./components/Chat/ChatStartOfficeVisit.tsx\");\n/* harmony import */ var _ChatInput__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ChatInput */ \"./components/Chat/ChatInput.tsx\");\n/* harmony import */ var _components_Modals_ProfileModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/Modals/ProfileModal */ \"./components/Modals/ProfileModal.tsx\");\n/* harmony import */ var _components_Modals_TemplatesModal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/Modals/TemplatesModal */ \"./components/Modals/TemplatesModal.tsx\");\n/* harmony import */ var _components_Modals_HelpModal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/Modals/HelpModal */ \"./components/Modals/HelpModal.tsx\");\n/* harmony import */ var _components_Modals_SettingsModal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/Modals/SettingsModal */ \"./components/Modals/SettingsModal.tsx\");\n/* harmony import */ var _components_Modals_PredictiveAnalyticsModal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/Modals/PredictiveAnalyticsModal */ \"./components/Modals/PredictiveAnalyticsModal.tsx\");\n// Chat.tsx\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n// PDF library\n\n\n(pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_4___default().vfs) = pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_5__.pdfMake.vfs;\n\n\n\n\n\n\n\n\n// Modals\n\n\n\n\n\n/** Splits the final assistant message into 3 sections. */ function parseAssistantOutput(content) {\n    let potentialRecs = \"\";\n    let helpfulContent = \"\";\n    let clinicalDoc = \"\";\n    const potentialPattern = /Potential Transcription (Recommendations|Errors):?\\s*([\\s\\S]*?)(?=\\n[\\t ]*(Helpful Content|Clinical Document)|$)/i;\n    const helpfulPattern = /Helpful Content:?\\s*([\\s\\S]*?)(?=\\n[\\t ]*(Clinical Document)|$)/i;\n    const clinicalPattern = /Clinical Document:?\\s*([\\s\\S]*)/i;\n    const potMatch = content.match(potentialPattern);\n    if (potMatch && potMatch[2]) {\n        potentialRecs = potMatch[2].trim();\n    }\n    const helpMatch = content.match(helpfulPattern);\n    if (helpMatch && helpMatch[1]) {\n        helpfulContent = helpMatch[1].trim();\n    }\n    const docMatch = content.match(clinicalPattern);\n    if (docMatch && docMatch[1]) {\n        clinicalDoc = docMatch[1].trim();\n    }\n    return {\n        potentialRecs,\n        helpfulContent,\n        clinicalDoc\n    };\n}\n/** Rebuilds the 3 sections back into a single assistant message. */ function rebuildAssistantOutput(potentialRecs, helpfulContent, clinicalDoc) {\n    return \"Potential Transcription Errors:\\n\".concat(potentialRecs.trim() || \"No errors found.\", \"\\n\\nHelpful Content:\\n\").concat(helpfulContent.trim() || \"(No helpful content)\", \"\\n\\nClinical Document:\\n\").concat(clinicalDoc.trim() || \"(No clinical document)\", \"\\n\");\n}\nconst Chat = /*#__PURE__*/ _s((0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_c = _s(function Chat(param) {\n    let { stopConversationRef  } = param;\n    _s();\n    const { t  } = (0,next_i18next__WEBPACK_IMPORTED_MODULE_3__.useTranslation)(\"chat\");\n    /******************************************************************\n   * 1) GRAB CONTEXT + DEFINE STATES/REFS/HOOKS (UNCONDITIONAL)\n   ******************************************************************/ const { state: { apiKey , serverSideApiKeyIsSet , modelError , loading , conversations , selectedConversation , openModal , models , prompts , userSignOff , showChatbar , showSidePromptbar , hasChatOutput  } , dispatch , handleUpdateConversation  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_pages_api_home_home_context__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\n    // Local states\n    const [autoScrollEnabled, setAutoScrollEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [currentMessage, setCurrentMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Document Title\n    const [documentTitle, setDocumentTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((selectedConversation === null || selectedConversation === void 0 ? void 0 : selectedConversation.name) || \"\");\n    // Template & Model\n    const [activeTemplateName, setActiveTemplateName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"ED Triage Note\");\n    const [activeModelName, setActiveModelName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"GPT-4\");\n    const [showTemplatesDropdown, setShowTemplatesDropdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showModelsDropdown, setShowModelsDropdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // For editing final doc\n    const [editedClinicalDoc, setEditedClinicalDoc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isEditingDoc, setIsEditingDoc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Refs\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // We'll store final assistant message\n    const [finalAssistantMessage, setFinalAssistantMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    /******************************************************************\n   * 2) HOOKS (UNCONDITIONAL)\n   ******************************************************************/ // Keep Document Title in sync with the conversation name\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedConversation) {\n            setDocumentTitle(selectedConversation.name);\n        }\n    }, [\n        selectedConversation\n    ]);\n    // Identify final assistant message whenever the conversation changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let found = null;\n        if (selectedConversation === null || selectedConversation === void 0 ? void 0 : selectedConversation.messages) {\n            for(let i = selectedConversation.messages.length - 1; i >= 0; i--){\n                if (selectedConversation.messages[i].role === \"assistant\") {\n                    found = selectedConversation.messages[i];\n                    break;\n                }\n            }\n        }\n        setFinalAssistantMessage(found);\n    }, [\n        selectedConversation\n    ]);\n    // If we have a final msg and not currently editing, load the doc text\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (finalAssistantMessage && !isEditingDoc) {\n            const { clinicalDoc  } = parseAssistantOutput(finalAssistantMessage.content);\n            setEditedClinicalDoc(clinicalDoc);\n        }\n    }, [\n        finalAssistantMessage,\n        isEditingDoc\n    ]);\n    // Throttled scroll to bottom\n    const throttledScrollDown = (0,_utils_data_throttle__WEBPACK_IMPORTED_MODULE_6__.throttle)(()=>{\n        if (autoScrollEnabled && messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n        }\n    }, 250);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        throttledScrollDown();\n    }, [\n        selectedConversation,\n        throttledScrollDown,\n        loading\n    ]);\n    // Intersection observer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const observer = new IntersectionObserver((param)=>{\n            let [entry] = param;\n            setAutoScrollEnabled(entry.isIntersecting);\n            if (entry.isIntersecting) {\n                var _textareaRef_current;\n                (_textareaRef_current = textareaRef.current) === null || _textareaRef_current === void 0 ? void 0 : _textareaRef_current.focus();\n            }\n        }, {\n            root: null,\n            threshold: 0.3\n        });\n        if (messagesEndRef.current) {\n            observer.observe(messagesEndRef.current);\n        }\n        return ()=>{\n            if (messagesEndRef.current) observer.unobserve(messagesEndRef.current);\n        };\n    }, []);\n    // We define scrollToBottom as a normal function\n    const scrollToBottom = ()=>{\n        if (autoScrollEnabled && messagesEndRef.current) {\n            var _textareaRef_current;\n            messagesEndRef.current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n            (_textareaRef_current = textareaRef.current) === null || _textareaRef_current === void 0 ? void 0 : _textareaRef_current.focus();\n        }\n    };\n    // The main sending function as a useCallback\n    const handleSend = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async function(message) {\n        let deleteCount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, plugin = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n        var _activeConv_prompt;\n        if (!apiKey && !serverSideApiKeyIsSet) {\n            console.error(\"No API key found. Cannot send message.\");\n            return;\n        }\n        let activeConv = selectedConversation;\n        if (!activeConv) {\n            activeConv = {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_19__.v4)(),\n                name: documentTitle || \"New Clinical Note\",\n                messages: [],\n                model: models[0] || {\n                    id: \"gpt-3.5-turbo\",\n                    name: \"GPT-3.5\",\n                    maxLength: 12000,\n                    tokenLimit: 4000\n                }\n            };\n            const newConvs = [\n                ...conversations,\n                activeConv\n            ];\n            dispatch({\n                field: \"conversations\",\n                value: newConvs\n            });\n            dispatch({\n                field: \"selectedConversation\",\n                value: activeConv\n            });\n            (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversations)(newConvs);\n            (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversation)(activeConv);\n        }\n        let updatedMessages = [\n            ...activeConv.messages || []\n        ];\n        if (deleteCount > 0) {\n            updatedMessages = updatedMessages.slice(0, -deleteCount);\n        }\n        updatedMessages.push(message);\n        const updatedConv = {\n            ...activeConv,\n            messages: updatedMessages\n        };\n        let newConversations2;\n        const exists = conversations.some((c)=>c.id === updatedConv.id);\n        if (exists) {\n            newConversations2 = conversations.map((c)=>c.id === updatedConv.id ? updatedConv : c);\n        } else {\n            newConversations2 = [\n                ...conversations,\n                updatedConv\n            ];\n        }\n        dispatch({\n            field: \"selectedConversation\",\n            value: updatedConv\n        });\n        dispatch({\n            field: \"conversations\",\n            value: newConversations2\n        });\n        (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversation)(updatedConv);\n        (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversations)(newConversations2);\n        const convPrompt = ((_activeConv_prompt = activeConv.prompt) === null || _activeConv_prompt === void 0 ? void 0 : _activeConv_prompt.trim()) || \"\";\n        const systemPrompt = \"\\nYou are a clinical scribe generating a final note with 3 sections:\\n1) Potential Transcription Errors\\n2) Helpful Content\\n3) Clinical Document (with headings from the chosen template)\\nAppend the provider’s sign-off: \".concat(userSignOff.trim() || \"[Provider sign-off here]\", '\\n\\nTranscript:\\n\"\"\"\\n').concat(convPrompt, '\\n\"\"\"\\n      ');\n        const chosenModel = updatedConv.model;\n        if (!chosenModel) {\n            console.error(\"No model selected.\");\n            return;\n        }\n        dispatch({\n            field: \"loading\",\n            value: true\n        });\n        try {\n            var _response_data, _response_data_choices, _response_data_choices_, _response_data_choices__message;\n            const payload = {\n                model: chosenModel.id,\n                messages: [\n                    {\n                        role: \"system\",\n                        content: systemPrompt\n                    },\n                    ...updatedMessages.map((m)=>({\n                            role: m.role,\n                            content: m.content\n                        }))\n                ],\n                temperature: 0.7,\n                stream: false\n            };\n            const response = await axios__WEBPACK_IMPORTED_MODULE_2___default().post(\"https://api.openai.com/v1/chat/completions\", payload, {\n                headers: {\n                    Authorization: \"Bearer \".concat(apiKey),\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            dispatch({\n                field: \"loading\",\n                value: false\n            });\n            let assistantContent = ((_response_data = response.data) === null || _response_data === void 0 ? void 0 : (_response_data_choices = _response_data.choices) === null || _response_data_choices === void 0 ? void 0 : (_response_data_choices_ = _response_data_choices[0]) === null || _response_data_choices_ === void 0 ? void 0 : (_response_data_choices__message = _response_data_choices_.message) === null || _response_data_choices__message === void 0 ? void 0 : _response_data_choices__message.content) || \"\";\n            assistantContent = assistantContent.replace(/\\[.*?\\]/g, \"\");\n            assistantContent = assistantContent.replace(/\\*/g, \"\");\n            const assistantMsg = {\n                role: \"assistant\",\n                content: assistantContent\n            };\n            const finalMsgs = [\n                ...updatedMessages,\n                assistantMsg\n            ];\n            const finalConv = {\n                ...updatedConv,\n                messages: finalMsgs\n            };\n            const finalConvs = newConversations2.map((c)=>c.id === finalConv.id ? finalConv : c);\n            dispatch({\n                field: \"hasChatOutput\",\n                value: true\n            });\n            dispatch({\n                field: \"selectedConversation\",\n                value: finalConv\n            });\n            dispatch({\n                field: \"conversations\",\n                value: finalConvs\n            });\n            (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversation)(finalConv);\n            (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversations)(finalConvs);\n        } catch (err) {\n            dispatch({\n                field: \"loading\",\n                value: false\n            });\n            console.error(\"Error calling LLM:\", err);\n        }\n    }, [\n        apiKey,\n        serverSideApiKeyIsSet,\n        selectedConversation,\n        documentTitle,\n        models,\n        conversations,\n        userSignOff,\n        dispatch\n    ]);\n    /******************************************************************\n   * 3) BUILD CONDITIONALS INTO A SINGLE RETURN\n   ******************************************************************/ // Checking conditions:\n    const noApiKey = !apiKey && !serverSideApiKeyIsSet;\n    const noMessages = !selectedConversation || selectedConversation.messages.length === 0;\n    // We'll build a variable `mainContent` that holds the central UI\n    let mainContent;\n    if (noApiKey) {\n        // Show \"Please set your API key\" message\n        mainContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mx-auto flex h-full w-[300px] flex-col justify-center space-y-6 text-black sm:w-[600px]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center text-2xl\",\n                children: t(\"Please set your API key.\")\n            }, void 0, false, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 374,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n            lineNumber: 373,\n            columnNumber: 7\n        }, this);\n    } else if (modelError) {\n        // Show model error\n        mainContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ErrorMessageDiv__WEBPACK_IMPORTED_MODULE_10__.ErrorMessageDiv, {\n            error: modelError\n        }, void 0, false, {\n            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n            lineNumber: 381,\n            columnNumber: 19\n        }, this);\n    } else if (noMessages) {\n        // If no messages in conversation => show the \"start UI\"\n        mainContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex-1 flex flex-col border-b border-gray-300 w-full\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-row flex-1 items-center justify-evenly py-6 px-4 md:py-12\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-[45%] flex flex-col items-center justify-center border rounded-lg p-36 shadow\",\n                        style: {\n                            backgroundImage: \"url('/VoiceMode.png')\",\n                            backgroundSize: \"cover\",\n                            backgroundPosition: \"center\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatTextToSpeech__WEBPACK_IMPORTED_MODULE_11__.ChatTextToSpeech, {\n                            onSend: (userMsg)=>{\n                                setCurrentMessage(userMsg);\n                                handleSend(userMsg);\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                            lineNumber: 395,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                        lineNumber: 387,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-[45%] flex flex-col items-center justify-center border rounded-lg p-36 shadow\",\n                        style: {\n                            backgroundImage: \"url('/StartOfficeVisit.png')\",\n                            backgroundSize: \"cover\",\n                            backgroundPosition: \"center\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatStartOfficeVisit__WEBPACK_IMPORTED_MODULE_12__.ChatStartOfficeVisit, {\n                            onSend: (userMsg)=>{\n                                setCurrentMessage(userMsg);\n                                handleSend(userMsg);\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                            lineNumber: 410,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                        lineNumber: 402,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 386,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n            lineNumber: 385,\n            columnNumber: 7\n        }, this);\n    } else {\n        // We have messages in conversation => show final assistant output, etc.\n        // We'll parse finalAssistantMessage to get potentialRecs, helpfulContent, doc\n        let potentialRecs = \"\";\n        let helpfulContent = \"\";\n        let clinicalDoc = \"\";\n        if (finalAssistantMessage) {\n            const parsed = parseAssistantOutput(finalAssistantMessage.content);\n            potentialRecs = parsed.potentialRecs;\n            helpfulContent = parsed.helpfulContent;\n            clinicalDoc = parsed.clinicalDoc;\n        }\n        const docWordCount = editedClinicalDoc.trim() ? editedClinicalDoc.trim().split(/\\s+/).length : 0;\n        mainContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-bold mb-2\",\n                            children: \"Transcript\"\n                        }, void 0, false, {\n                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                            lineNumber: 442,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"whitespace-pre-wrap text-sm text-gray-800 dark:text-gray-100 inline-block\",\n                            children: (selectedConversation === null || selectedConversation === void 0 ? void 0 : selectedConversation.messages.filter((m)=>m.role === \"user\").map((m)=>m.content).join(\"\\n\")) || \"(No transcript)\"\n                        }, void 0, false, {\n                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                            lineNumber: 443,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                    lineNumber: 441,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                    className: \"my-4 border-gray-300 dark:border-gray-700\"\n                }, void 0, false, {\n                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                    lineNumber: 450,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col md:flex-row gap-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 md:w-1/2 border rounded-md p-4 dark:border-gray-600\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between mb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"font-bold text-md\",\n                                            children: \"Clinical Document\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                            children: [\n                                                docWordCount,\n                                                \" words\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 457,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                    lineNumber: 455,\n                                    columnNumber: 13\n                                }, this),\n                                isEditingDoc ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    className: \"w-full h-64 border border-gray-300 rounded dark:border-gray-600 p-2 text-sm dark:bg-gray-700 dark:text-white\",\n                                    value: editedClinicalDoc,\n                                    onChange: (e)=>setEditedClinicalDoc(e.target.value)\n                                }, void 0, false, {\n                                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                    lineNumber: 463,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"whitespace-pre-wrap text-sm\",\n                                    children: editedClinicalDoc || \"(No clinical document)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 flex gap-2 flex-wrap\",\n                                    children: [\n                                        !isEditingDoc && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setIsEditingDoc(true),\n                                            className: \"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded hover:bg-gray-300 dark:hover:bg-gray-500\",\n                                            children: \"Edit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 478,\n                                            columnNumber: 17\n                                        }, this),\n                                        isEditingDoc && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                // On \"Save,\" rebuild final assistant message\n                                                if (!finalAssistantMessage) return;\n                                                // parse old content\n                                                const parsed = parseAssistantOutput(finalAssistantMessage.content);\n                                                const newContent = rebuildAssistantOutput(parsed.potentialRecs, parsed.helpfulContent, editedClinicalDoc);\n                                                // create updated msg\n                                                const updatedMsg = {\n                                                    ...finalAssistantMessage,\n                                                    content: newContent\n                                                };\n                                                // find & replace in conversation\n                                                const msgs = [\n                                                    ...(selectedConversation === null || selectedConversation === void 0 ? void 0 : selectedConversation.messages) || []\n                                                ];\n                                                const idx = msgs.lastIndexOf(finalAssistantMessage);\n                                                if (idx !== -1) {\n                                                    msgs[idx] = updatedMsg;\n                                                }\n                                                const updatedConv = {\n                                                    ...selectedConversation,\n                                                    messages: msgs\n                                                };\n                                                const newConvs = conversations.map((c)=>c.id === updatedConv.id ? updatedConv : c);\n                                                dispatch({\n                                                    field: \"conversations\",\n                                                    value: newConvs\n                                                });\n                                                dispatch({\n                                                    field: \"selectedConversation\",\n                                                    value: updatedConv\n                                                });\n                                                (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversations)(newConvs);\n                                                (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_7__.saveConversation)(updatedConv);\n                                                setIsEditingDoc(false);\n                                                alert(\"Edits saved!\");\n                                            },\n                                            className: \"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\",\n                                            children: \"Save\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 487,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: async ()=>{\n                                                try {\n                                                    await navigator.clipboard.writeText(editedClinicalDoc);\n                                                    alert(\"Clinical Document copied to clipboard!\");\n                                                } catch (err) {\n                                                    console.error(err);\n                                                    alert(\"Could not copy text.\");\n                                                }\n                                            },\n                                            className: \"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded hover:bg-gray-300 dark:hover:bg-gray-500\",\n                                            children: \"Copy\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 533,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                const now = new Date();\n                                                const stamp = \"\".concat(now.getFullYear()).concat((now.getMonth() + 1).toString().padStart(2, \"0\")).concat(now.getDate().toString().padStart(2, \"0\"), \"_\").concat(now.getHours().toString().padStart(2, \"0\")).concat(now.getMinutes().toString().padStart(2, \"0\"));\n                                                const docDefinition = {\n                                                    content: [\n                                                        {\n                                                            text: documentTitle || \"Clinical Document\",\n                                                            style: \"header\"\n                                                        },\n                                                        {\n                                                            text: editedClinicalDoc,\n                                                            margin: [\n                                                                0,\n                                                                5,\n                                                                0,\n                                                                15\n                                                            ]\n                                                        }\n                                                    ],\n                                                    styles: {\n                                                        header: {\n                                                            fontSize: 14,\n                                                            bold: true\n                                                        }\n                                                    }\n                                                };\n                                                pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_4___default().createPdf(docDefinition).download(\"\".concat(stamp, \"_ClinicalDoc.pdf\"));\n                                            },\n                                            className: \"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded hover:bg-gray-300 dark:hover:bg-gray-500\",\n                                            children: \"Download PDF\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 548,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                    lineNumber: 476,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                            lineNumber: 454,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 md:w-1/2 flex flex-col gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border rounded-md p-4 dark:border-gray-600\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-md font-bold mb-2\",\n                                            children: \"Potential Transcription Errors\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"whitespace-pre-wrap text-sm\",\n                                            children: potentialRecs || \"No errors found.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 587,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border rounded-md p-4 dark:border-gray-600\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-md font-bold mb-2\",\n                                            children: \"Helpful Content\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 592,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"whitespace-pre-wrap text-sm\",\n                                            children: helpfulContent || \"(No helpful content)\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                            lineNumber: 593,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                            lineNumber: 582,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                    lineNumber: 452,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n            lineNumber: 439,\n            columnNumber: 7\n        }, this);\n    }\n    // We'll also handle showing a loader if generating\n    const loader = loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatLoader__WEBPACK_IMPORTED_MODULE_9__.ChatLoader, {}, void 0, false, {\n        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n        lineNumber: 604,\n        columnNumber: 28\n    }, this) : null;\n    // The bottom bar styling\n    const chatbarWidth = 240;\n    const sidePromptbarWidth = 240;\n    const bottomBarStyle = {\n        position: \"fixed\",\n        bottom: 0,\n        left: showChatbar ? \"\".concat(chatbarWidth, \"px\") : \"0\",\n        right: showSidePromptbar ? \"\".concat(sidePromptbarWidth, \"px\") : \"0\"\n    };\n    /******************************************************************\n   * 4) SINGLE RETURN - includes header, main content, bottom bar\n   ******************************************************************/ return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col w-full h-full bg-white dark:bg-[#343541] text-black dark:text-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"sticky top-0 z-20 bg-gray-900 text-white flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center px-4 py-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: \"/MetrixAI.png\",\n                                alt: \"Metrix AI Logo\",\n                                className: \"h-8 mr-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                lineNumber: 625,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-base font-semibold\",\n                                children: \"Metrix AI - The Intelligent Clinical Scribe Platform\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                lineNumber: 626,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                        lineNumber: 624,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t border-gray-700 px-4 py-2 flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"documentTitle\",\n                                        className: \"text-sm font-medium text-white\",\n                                        children: t(\"Document Title\")\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                        lineNumber: 635,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        id: \"documentTitle\",\n                                        type: \"text\",\n                                        className: \"w-[300px] rounded border border-gray-500 px-3 py-2 text-sm text-black focus:outline-none focus:border-gray-400\",\n                                        placeholder: \"Enter your document title here\",\n                                        value: documentTitle,\n                                        onChange: (e)=>{\n                                            const newTitle = e.target.value;\n                                            setDocumentTitle(newTitle);\n                                            if (selectedConversation) {\n                                                handleUpdateConversation(selectedConversation, {\n                                                    key: \"name\",\n                                                    value: newTitle\n                                                });\n                                            }\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                        lineNumber: 641,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                lineNumber: 634,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"flex items-center gap-1 rounded-md bg-gray-900 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-700\",\n                                        onClick: ()=>setShowTemplatesDropdown(!showTemplatesDropdown),\n                                        children: [\n                                            \"\".concat(t(\"Template\"), \": \").concat(activeTemplateName),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_20__.IconChevronDown, {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                                lineNumber: 669,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                        lineNumber: 663,\n                                        columnNumber: 13\n                                    }, this),\n                                    showTemplatesDropdown && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute left-0 mt-2 w-[220px] rounded-md border border-gray-200 bg-white p-2 shadow-lg z-50\",\n                                        children: prompts.map((prompt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100\",\n                                                onClick: ()=>{\n                                                    setActiveTemplateName(prompt.name);\n                                                    if (selectedConversation) {\n                                                        handleUpdateConversation(selectedConversation, {\n                                                            key: \"prompt\",\n                                                            value: prompt.content\n                                                        });\n                                                    }\n                                                    setShowTemplatesDropdown(false);\n                                                },\n                                                children: prompt.name\n                                            }, prompt.id, false, {\n                                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                                lineNumber: 675,\n                                                columnNumber: 19\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                        lineNumber: 672,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                lineNumber: 662,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"flex items-center gap-1 rounded-md bg-gray-900 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-700\",\n                                        onClick: ()=>setShowModelsDropdown(!showModelsDropdown),\n                                        children: [\n                                            \"\".concat(t(\"Model\"), \": \").concat(activeModelName),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_20__.IconChevronDown, {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                                lineNumber: 705,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                        lineNumber: 699,\n                                        columnNumber: 13\n                                    }, this),\n                                    showModelsDropdown && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute left-0 mt-2 w-[220px] rounded-md border border-gray-200 bg-white p-2 shadow-lg z-50\",\n                                        children: (()=>{\n                                            const baseModels = [\n                                                ...models\n                                            ];\n                                            if (activeTemplateName === \"Discharge Summary\") {\n                                                const found = baseModels.find((m)=>m.id === \"internal-ml\");\n                                                if (!found) {\n                                                    baseModels.push({\n                                                        id: \"internal-ml\",\n                                                        name: \"Internal ML Algorithm\",\n                                                        maxLength: 16000,\n                                                        tokenLimit: 4000\n                                                    });\n                                                }\n                                            }\n                                            return baseModels;\n                                        })().map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100\",\n                                                onClick: ()=>{\n                                                    if (selectedConversation) {\n                                                        handleUpdateConversation(selectedConversation, {\n                                                            key: \"model\",\n                                                            value: m\n                                                        });\n                                                    }\n                                                    setActiveModelName(m.name);\n                                                    setShowModelsDropdown(false);\n                                                },\n                                                children: m.name\n                                            }, m.id, false, {\n                                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                                lineNumber: 726,\n                                                columnNumber: 19\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                        lineNumber: 708,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                                lineNumber: 698,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                        lineNumber: 632,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 623,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: chatContainerRef,\n                onScroll: ()=>{\n                    if (!chatContainerRef.current) return;\n                    const { scrollTop , scrollHeight , clientHeight  } = chatContainerRef.current;\n                    if (scrollTop + clientHeight < scrollHeight - 80) {\n                        setAutoScrollEnabled(false);\n                    } else {\n                        setAutoScrollEnabled(true);\n                    }\n                },\n                className: \"flex-1 overflow-y-auto pb-40\",\n                children: [\n                    mainContent,\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatLoader__WEBPACK_IMPORTED_MODULE_9__.ChatLoader, {}, void 0, false, {\n                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                        lineNumber: 767,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef,\n                        className: \"h-1\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                        lineNumber: 769,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 751,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center pb-2\",\n                style: {\n                    position: \"fixed\",\n                    bottom: 0,\n                    left: showChatbar ? \"240px\" : \"0\",\n                    right: showSidePromptbar ? \"240px\" : \"0\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full px-2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatInput__WEBPACK_IMPORTED_MODULE_13__.ChatInput, {\n                        stopConversationRef: stopConversationRef,\n                        textareaRef: textareaRef,\n                        onSend: (msg, plugin)=>{\n                            setCurrentMessage(msg);\n                            handleSend(msg, 0, plugin);\n                        },\n                        onScrollDownClick: scrollToBottom,\n                        onRegenerate: ()=>{\n                            if (currentMessage && selectedConversation) {\n                                // remove last user + assistant message\n                                handleSend(currentMessage, 2);\n                            }\n                        },\n                        showScrollDownButton: false\n                    }, void 0, false, {\n                        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                        lineNumber: 780,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                    lineNumber: 779,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 773,\n                columnNumber: 7\n            }, this),\n            openModal === \"profile\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Modals_ProfileModal__WEBPACK_IMPORTED_MODULE_14__.ProfileModal, {}, void 0, false, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 800,\n                columnNumber: 35\n            }, this),\n            openModal === \"templates\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Modals_TemplatesModal__WEBPACK_IMPORTED_MODULE_15__.TemplatesModal, {}, void 0, false, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 801,\n                columnNumber: 37\n            }, this),\n            openModal === \"help\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Modals_HelpModal__WEBPACK_IMPORTED_MODULE_16__.HelpModal, {}, void 0, false, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 802,\n                columnNumber: 32\n            }, this),\n            openModal === \"settings\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Modals_SettingsModal__WEBPACK_IMPORTED_MODULE_17__.SettingsModal, {}, void 0, false, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 803,\n                columnNumber: 36\n            }, this),\n            openModal === \"predictive analytics\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Modals_PredictiveAnalyticsModal__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n                lineNumber: 804,\n                columnNumber: 48\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mattydeighton/Githubscribe/components/Chat/Chat.tsx\",\n        lineNumber: 620,\n        columnNumber: 5\n    }, this);\n}, \"C0LTR7y5WfK2IhXKsoPBbB3GFr8=\", false, function() {\n    return [\n        next_i18next__WEBPACK_IMPORTED_MODULE_3__.useTranslation\n    ];\n})), \"C0LTR7y5WfK2IhXKsoPBbB3GFr8=\", false, function() {\n    return [\n        next_i18next__WEBPACK_IMPORTED_MODULE_3__.useTranslation\n    ];\n});\n_c1 = Chat;\nChat.displayName = \"Chat\";\n/* harmony default export */ __webpack_exports__[\"default\"] = (Chat);\nvar _c, _c1;\n$RefreshReg$(_c, \"Chat$memo\");\n$RefreshReg$(_c1, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVLDhEQUFDM0Isb0VBQVNBOzs7OztZQUNsQzJCLGNBQWMsNEJBQWMsOERBQUMxQiw0RUFBYUE7Ozs7O1lBQzFDMEIsY0FBYyx3Q0FBMEIsOERBQUN6QixvRkFBd0JBOzs7Ozs7Ozs7OztBQUd4RTs7UUF6c0JnQmpCLHdEQUFjQTs7OztRQUFkQSx3REFBY0E7O0dBeXNCM0I7O0FBRUhnQyxLQUFLNkwsV0FBVyxHQUFHO0FBQ25CLCtEQUFlN0wsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0NoYXQvQ2hhdC50c3g/OGEwYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDaGF0LnRzeFxuaW1wb3J0IHsgSWNvbkNoZXZyb25Eb3duIH0gZnJvbSAnQHRhYmxlci9pY29ucy1yZWFjdCc7XG5pbXBvcnQge1xuICBNdXRhYmxlUmVmT2JqZWN0LFxuICBtZW1vLFxuICB1c2VDYWxsYmFjayxcbiAgdXNlQ29udGV4dCxcbiAgdXNlRWZmZWN0LFxuICB1c2VSZWYsXG4gIHVzZVN0YXRlLFxuICBDU1NQcm9wZXJ0aWVzLFxuICBSZWFjdE5vZGUsXG59IGZyb20gJ3JlYWN0JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAnbmV4dC1pMThuZXh0JztcblxuLy8gUERGIGxpYnJhcnlcbmltcG9ydCBwZGZNYWtlIGZyb20gJ3BkZm1ha2UvYnVpbGQvcGRmbWFrZSc7XG5pbXBvcnQgcGRmRm9udHMgZnJvbSAncGRmbWFrZS9idWlsZC92ZnNfZm9udHMnO1xucGRmTWFrZS52ZnMgPSBwZGZGb250cy5wZGZNYWtlLnZmcztcblxuaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICdAL3V0aWxzL2RhdGEvdGhyb3R0bGUnO1xuaW1wb3J0IHsgc2F2ZUNvbnZlcnNhdGlvbiwgc2F2ZUNvbnZlcnNhdGlvbnMgfSBmcm9tICdAL3V0aWxzL2FwcC9jb252ZXJzYXRpb24nO1xuXG5pbXBvcnQgSG9tZUNvbnRleHQgZnJvbSAnQC9wYWdlcy9hcGkvaG9tZS9ob21lLmNvbnRleHQnO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uLCBNZXNzYWdlIH0gZnJvbSAnQC90eXBlcy9jaGF0JztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ0AvdHlwZXMvcGx1Z2luJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJ0AvdHlwZXMvcHJvbXB0JztcblxuaW1wb3J0IHsgQ2hhdExvYWRlciB9IGZyb20gJy4vQ2hhdExvYWRlcic7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2VEaXYgfSBmcm9tICcuL0Vycm9yTWVzc2FnZURpdic7XG5pbXBvcnQgeyBDaGF0VGV4dFRvU3BlZWNoIH0gZnJvbSAnLi9DaGF0VGV4dFRvU3BlZWNoJztcbmltcG9ydCB7IENoYXRTdGFydE9mZmljZVZpc2l0IH0gZnJvbSAnLi9DaGF0U3RhcnRPZmZpY2VWaXNpdCc7XG5pbXBvcnQgeyBDaGF0SW5wdXQgfSBmcm9tICcuL0NoYXRJbnB1dCc7XG5cbi8vIE1vZGFsc1xuaW1wb3J0IHsgUHJvZmlsZU1vZGFsIH0gZnJvbSAnQC9jb21wb25lbnRzL01vZGFscy9Qcm9maWxlTW9kYWwnO1xuaW1wb3J0IHsgVGVtcGxhdGVzTW9kYWwgfSBmcm9tICdAL2NvbXBvbmVudHMvTW9kYWxzL1RlbXBsYXRlc01vZGFsJztcbmltcG9ydCB7IEhlbHBNb2RhbCB9IGZyb20gJ0AvY29tcG9uZW50cy9Nb2RhbHMvSGVscE1vZGFsJztcbmltcG9ydCB7IFNldHRpbmdzTW9kYWwgfSBmcm9tICdAL2NvbXBvbmVudHMvTW9kYWxzL1NldHRpbmdzTW9kYWwnO1xuaW1wb3J0IFByZWRpY3RpdmVBbmFseXRpY3NNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvTW9kYWxzL1ByZWRpY3RpdmVBbmFseXRpY3NNb2RhbCc7XG5cbi8qKiBTcGxpdHMgdGhlIGZpbmFsIGFzc2lzdGFudCBtZXNzYWdlIGludG8gMyBzZWN0aW9ucy4gKi9cbmZ1bmN0aW9uIHBhcnNlQXNzaXN0YW50T3V0cHV0KGNvbnRlbnQ6IHN0cmluZykge1xuICBsZXQgcG90ZW50aWFsUmVjcyA9ICcnO1xuICBsZXQgaGVscGZ1bENvbnRlbnQgPSAnJztcbiAgbGV0IGNsaW5pY2FsRG9jID0gJyc7XG5cbiAgY29uc3QgcG90ZW50aWFsUGF0dGVybiA9IC9Qb3RlbnRpYWwgVHJhbnNjcmlwdGlvbiAoUmVjb21tZW5kYXRpb25zfEVycm9ycyk6P1xccyooW1xcc1xcU10qPykoPz1cXG5bXFx0IF0qKEhlbHBmdWwgQ29udGVudHxDbGluaWNhbCBEb2N1bWVudCl8JCkvaTtcbiAgY29uc3QgaGVscGZ1bFBhdHRlcm4gPSAvSGVscGZ1bCBDb250ZW50Oj9cXHMqKFtcXHNcXFNdKj8pKD89XFxuW1xcdCBdKihDbGluaWNhbCBEb2N1bWVudCl8JCkvaTtcbiAgY29uc3QgY2xpbmljYWxQYXR0ZXJuID0gL0NsaW5pY2FsIERvY3VtZW50Oj9cXHMqKFtcXHNcXFNdKikvaTtcblxuICBjb25zdCBwb3RNYXRjaCA9IGNvbnRlbnQubWF0Y2gocG90ZW50aWFsUGF0dGVybik7XG4gIGlmIChwb3RNYXRjaCAmJiBwb3RNYXRjaFsyXSkge1xuICAgIHBvdGVudGlhbFJlY3MgPSBwb3RNYXRjaFsyXS50cmltKCk7XG4gIH1cblxuICBjb25zdCBoZWxwTWF0Y2ggPSBjb250ZW50Lm1hdGNoKGhlbHBmdWxQYXR0ZXJuKTtcbiAgaWYgKGhlbHBNYXRjaCAmJiBoZWxwTWF0Y2hbMV0pIHtcbiAgICBoZWxwZnVsQ29udGVudCA9IGhlbHBNYXRjaFsxXS50cmltKCk7XG4gIH1cblxuICBjb25zdCBkb2NNYXRjaCA9IGNvbnRlbnQubWF0Y2goY2xpbmljYWxQYXR0ZXJuKTtcbiAgaWYgKGRvY01hdGNoICYmIGRvY01hdGNoWzFdKSB7XG4gICAgY2xpbmljYWxEb2MgPSBkb2NNYXRjaFsxXS50cmltKCk7XG4gIH1cblxuICByZXR1cm4geyBwb3RlbnRpYWxSZWNzLCBoZWxwZnVsQ29udGVudCwgY2xpbmljYWxEb2MgfTtcbn1cblxuLyoqIFJlYnVpbGRzIHRoZSAzIHNlY3Rpb25zIGJhY2sgaW50byBhIHNpbmdsZSBhc3Npc3RhbnQgbWVzc2FnZS4gKi9cbmZ1bmN0aW9uIHJlYnVpbGRBc3Npc3RhbnRPdXRwdXQoXG4gIHBvdGVudGlhbFJlY3M6IHN0cmluZyxcbiAgaGVscGZ1bENvbnRlbnQ6IHN0cmluZyxcbiAgY2xpbmljYWxEb2M6IHN0cmluZ1xuKSB7XG4gIHJldHVybiBgUG90ZW50aWFsIFRyYW5zY3JpcHRpb24gRXJyb3JzOlxuJHtwb3RlbnRpYWxSZWNzLnRyaW0oKSB8fCAnTm8gZXJyb3JzIGZvdW5kLid9XG5cbkhlbHBmdWwgQ29udGVudDpcbiR7aGVscGZ1bENvbnRlbnQudHJpbSgpIHx8ICcoTm8gaGVscGZ1bCBjb250ZW50KSd9XG5cbkNsaW5pY2FsIERvY3VtZW50OlxuJHtjbGluaWNhbERvYy50cmltKCkgfHwgJyhObyBjbGluaWNhbCBkb2N1bWVudCknfVxuYDtcbn1cblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgc3RvcENvbnZlcnNhdGlvblJlZjogTXV0YWJsZVJlZk9iamVjdDxib29sZWFuPjtcbn1cblxuZXhwb3J0IGNvbnN0IENoYXQgPSBtZW1vKGZ1bmN0aW9uIENoYXQoeyBzdG9wQ29udmVyc2F0aW9uUmVmIH06IFByb3BzKSB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2NoYXQnKTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqIDEpIEdSQUIgQ09OVEVYVCArIERFRklORSBTVEFURVMvUkVGUy9IT09LUyAoVU5DT05ESVRJT05BTClcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgY29uc3Qge1xuICAgIHN0YXRlOiB7XG4gICAgICBhcGlLZXksXG4gICAgICBzZXJ2ZXJTaWRlQXBpS2V5SXNTZXQsXG4gICAgICBtb2RlbEVycm9yLFxuICAgICAgbG9hZGluZyxcbiAgICAgIGNvbnZlcnNhdGlvbnMsXG4gICAgICBzZWxlY3RlZENvbnZlcnNhdGlvbixcbiAgICAgIG9wZW5Nb2RhbCxcbiAgICAgIG1vZGVscyxcbiAgICAgIHByb21wdHMsXG4gICAgICB1c2VyU2lnbk9mZixcbiAgICAgIHNob3dDaGF0YmFyLFxuICAgICAgc2hvd1NpZGVQcm9tcHRiYXIsXG4gICAgICBoYXNDaGF0T3V0cHV0LFxuICAgIH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgaGFuZGxlVXBkYXRlQ29udmVyc2F0aW9uLFxuICB9ID0gdXNlQ29udGV4dChIb21lQ29udGV4dCk7XG5cbiAgLy8gTG9jYWwgc3RhdGVzXG4gIGNvbnN0IFthdXRvU2Nyb2xsRW5hYmxlZCwgc2V0QXV0b1Njcm9sbEVuYWJsZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjdXJyZW50TWVzc2FnZSwgc2V0Q3VycmVudE1lc3NhZ2VdID0gdXNlU3RhdGU8TWVzc2FnZSB8IG51bGw+KG51bGwpO1xuXG4gIC8vIERvY3VtZW50IFRpdGxlXG4gIGNvbnN0IFtkb2N1bWVudFRpdGxlLCBzZXREb2N1bWVudFRpdGxlXSA9IHVzZVN0YXRlKFxuICAgIHNlbGVjdGVkQ29udmVyc2F0aW9uPy5uYW1lIHx8ICcnXG4gICk7XG5cbiAgLy8gVGVtcGxhdGUgJiBNb2RlbFxuICBjb25zdCBbYWN0aXZlVGVtcGxhdGVOYW1lLCBzZXRBY3RpdmVUZW1wbGF0ZU5hbWVdID0gdXNlU3RhdGUoJ0VEIFRyaWFnZSBOb3RlJyk7XG4gIGNvbnN0IFthY3RpdmVNb2RlbE5hbWUsIHNldEFjdGl2ZU1vZGVsTmFtZV0gPSB1c2VTdGF0ZSgnR1BULTQnKTtcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZXNEcm9wZG93biwgc2V0U2hvd1RlbXBsYXRlc0Ryb3Bkb3duXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNb2RlbHNEcm9wZG93biwgc2V0U2hvd01vZGVsc0Ryb3Bkb3duXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBGb3IgZWRpdGluZyBmaW5hbCBkb2NcbiAgY29uc3QgW2VkaXRlZENsaW5pY2FsRG9jLCBzZXRFZGl0ZWRDbGluaWNhbERvY10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc0VkaXRpbmdEb2MsIHNldElzRWRpdGluZ0RvY10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUmVmc1xuICBjb25zdCBjaGF0Q29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCB0ZXh0YXJlYVJlZiA9IHVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKTtcblxuICAvLyBXZSdsbCBzdG9yZSBmaW5hbCBhc3Npc3RhbnQgbWVzc2FnZVxuICBjb25zdCBbZmluYWxBc3Npc3RhbnRNZXNzYWdlLCBzZXRGaW5hbEFzc2lzdGFudE1lc3NhZ2VdID0gdXNlU3RhdGU8TWVzc2FnZSB8IG51bGw+KG51bGwpO1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogMikgSE9PS1MgKFVOQ09ORElUSU9OQUwpXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLy8gS2VlcCBEb2N1bWVudCBUaXRsZSBpbiBzeW5jIHdpdGggdGhlIGNvbnZlcnNhdGlvbiBuYW1lXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkQ29udmVyc2F0aW9uKSB7XG4gICAgICBzZXREb2N1bWVudFRpdGxlKHNlbGVjdGVkQ29udmVyc2F0aW9uLm5hbWUpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkQ29udmVyc2F0aW9uXSk7XG5cbiAgLy8gSWRlbnRpZnkgZmluYWwgYXNzaXN0YW50IG1lc3NhZ2Ugd2hlbmV2ZXIgdGhlIGNvbnZlcnNhdGlvbiBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGZvdW5kOiBNZXNzYWdlIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHNlbGVjdGVkQ29udmVyc2F0aW9uPy5tZXNzYWdlcykge1xuICAgICAgZm9yIChsZXQgaSA9IHNlbGVjdGVkQ29udmVyc2F0aW9uLm1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChzZWxlY3RlZENvbnZlcnNhdGlvbi5tZXNzYWdlc1tpXS5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgIGZvdW5kID0gc2VsZWN0ZWRDb252ZXJzYXRpb24ubWVzc2FnZXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc2V0RmluYWxBc3Npc3RhbnRNZXNzYWdlKGZvdW5kKTtcbiAgfSwgW3NlbGVjdGVkQ29udmVyc2F0aW9uXSk7XG5cbiAgLy8gSWYgd2UgaGF2ZSBhIGZpbmFsIG1zZyBhbmQgbm90IGN1cnJlbnRseSBlZGl0aW5nLCBsb2FkIHRoZSBkb2MgdGV4dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChmaW5hbEFzc2lzdGFudE1lc3NhZ2UgJiYgIWlzRWRpdGluZ0RvYykge1xuICAgICAgY29uc3QgeyBjbGluaWNhbERvYyB9ID0gcGFyc2VBc3Npc3RhbnRPdXRwdXQoZmluYWxBc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgc2V0RWRpdGVkQ2xpbmljYWxEb2MoY2xpbmljYWxEb2MpO1xuICAgIH1cbiAgfSwgW2ZpbmFsQXNzaXN0YW50TWVzc2FnZSwgaXNFZGl0aW5nRG9jXSk7XG5cbiAgLy8gVGhyb3R0bGVkIHNjcm9sbCB0byBib3R0b21cbiAgY29uc3QgdGhyb3R0bGVkU2Nyb2xsRG93biA9IHRocm90dGxlKCgpID0+IHtcbiAgICBpZiAoYXV0b1Njcm9sbEVuYWJsZWQgJiYgbWVzc2FnZXNFbmRSZWYuY3VycmVudCkge1xuICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9XG4gIH0sIDI1MCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0aHJvdHRsZWRTY3JvbGxEb3duKCk7XG4gIH0sIFtzZWxlY3RlZENvbnZlcnNhdGlvbiwgdGhyb3R0bGVkU2Nyb2xsRG93biwgbG9hZGluZ10pO1xuXG4gIC8vIEludGVyc2VjdGlvbiBvYnNlcnZlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKFtlbnRyeV0pID0+IHtcbiAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQoZW50cnkuaXNJbnRlcnNlY3RpbmcpO1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICB0ZXh0YXJlYVJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyByb290OiBudWxsLCB0aHJlc2hvbGQ6IDAuMyB9XG4gICAgKTtcbiAgICBpZiAobWVzc2FnZXNFbmRSZWYuY3VycmVudCkge1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShtZXNzYWdlc0VuZFJlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChtZXNzYWdlc0VuZFJlZi5jdXJyZW50KSBvYnNlcnZlci51bm9ic2VydmUobWVzc2FnZXNFbmRSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIFdlIGRlZmluZSBzY3JvbGxUb0JvdHRvbSBhcyBhIG5vcm1hbCBmdW5jdGlvblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBpZiAoYXV0b1Njcm9sbEVuYWJsZWQgJiYgbWVzc2FnZXNFbmRSZWYuY3VycmVudCkge1xuICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgIHRleHRhcmVhUmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoZSBtYWluIHNlbmRpbmcgZnVuY3Rpb24gYXMgYSB1c2VDYWxsYmFja1xuICBjb25zdCBoYW5kbGVTZW5kID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKG1lc3NhZ2U6IE1lc3NhZ2UsIGRlbGV0ZUNvdW50ID0gMCwgcGx1Z2luOiBQbHVnaW4gfCBudWxsID0gbnVsbCkgPT4ge1xuICAgICAgaWYgKCFhcGlLZXkgJiYgIXNlcnZlclNpZGVBcGlLZXlJc1NldCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBBUEkga2V5IGZvdW5kLiBDYW5ub3Qgc2VuZCBtZXNzYWdlLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBhY3RpdmVDb252ID0gc2VsZWN0ZWRDb252ZXJzYXRpb247XG4gICAgICBpZiAoIWFjdGl2ZUNvbnYpIHtcbiAgICAgICAgYWN0aXZlQ29udiA9IHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgbmFtZTogZG9jdW1lbnRUaXRsZSB8fCAnTmV3IENsaW5pY2FsIE5vdGUnLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICBtb2RlbDpcbiAgICAgICAgICAgIG1vZGVsc1swXSB8fCB7XG4gICAgICAgICAgICAgIGlkOiAnZ3B0LTMuNS10dXJibycsXG4gICAgICAgICAgICAgIG5hbWU6ICdHUFQtMy41JyxcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAxMjAwMCxcbiAgICAgICAgICAgICAgdG9rZW5MaW1pdDogNDAwMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5ld0NvbnZzID0gWy4uLmNvbnZlcnNhdGlvbnMsIGFjdGl2ZUNvbnZdO1xuICAgICAgICBkaXNwYXRjaCh7IGZpZWxkOiAnY29udmVyc2F0aW9ucycsIHZhbHVlOiBuZXdDb252cyB9KTtcbiAgICAgICAgZGlzcGF0Y2goeyBmaWVsZDogJ3NlbGVjdGVkQ29udmVyc2F0aW9uJywgdmFsdWU6IGFjdGl2ZUNvbnYgfSk7XG4gICAgICAgIHNhdmVDb252ZXJzYXRpb25zKG5ld0NvbnZzKTtcbiAgICAgICAgc2F2ZUNvbnZlcnNhdGlvbihhY3RpdmVDb252KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHVwZGF0ZWRNZXNzYWdlcyA9IFsuLi4oYWN0aXZlQ29udi5tZXNzYWdlcyB8fCBbXSldO1xuICAgICAgaWYgKGRlbGV0ZUNvdW50ID4gMCkge1xuICAgICAgICB1cGRhdGVkTWVzc2FnZXMgPSB1cGRhdGVkTWVzc2FnZXMuc2xpY2UoMCwgLWRlbGV0ZUNvdW50KTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZWRNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuXG4gICAgICBjb25zdCB1cGRhdGVkQ29udjogQ29udmVyc2F0aW9uID0ge1xuICAgICAgICAuLi5hY3RpdmVDb252LFxuICAgICAgICBtZXNzYWdlczogdXBkYXRlZE1lc3NhZ2VzLFxuICAgICAgfTtcblxuICAgICAgbGV0IG5ld0NvbnZlcnNhdGlvbnMyOiBDb252ZXJzYXRpb25bXTtcbiAgICAgIGNvbnN0IGV4aXN0cyA9IGNvbnZlcnNhdGlvbnMuc29tZSgoYykgPT4gYy5pZCA9PT0gdXBkYXRlZENvbnYuaWQpO1xuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBuZXdDb252ZXJzYXRpb25zMiA9IGNvbnZlcnNhdGlvbnMubWFwKChjKSA9PlxuICAgICAgICAgIGMuaWQgPT09IHVwZGF0ZWRDb252LmlkID8gdXBkYXRlZENvbnYgOiBjXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdDb252ZXJzYXRpb25zMiA9IFsuLi5jb252ZXJzYXRpb25zLCB1cGRhdGVkQ29udl07XG4gICAgICB9XG5cbiAgICAgIGRpc3BhdGNoKHsgZmllbGQ6ICdzZWxlY3RlZENvbnZlcnNhdGlvbicsIHZhbHVlOiB1cGRhdGVkQ29udiB9KTtcbiAgICAgIGRpc3BhdGNoKHsgZmllbGQ6ICdjb252ZXJzYXRpb25zJywgdmFsdWU6IG5ld0NvbnZlcnNhdGlvbnMyIH0pO1xuICAgICAgc2F2ZUNvbnZlcnNhdGlvbih1cGRhdGVkQ29udik7XG4gICAgICBzYXZlQ29udmVyc2F0aW9ucyhuZXdDb252ZXJzYXRpb25zMik7XG5cbiAgICAgIGNvbnN0IGNvbnZQcm9tcHQgPSBhY3RpdmVDb252LnByb21wdD8udHJpbSgpIHx8ICcnO1xuICAgICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFxuWW91IGFyZSBhIGNsaW5pY2FsIHNjcmliZSBnZW5lcmF0aW5nIGEgZmluYWwgbm90ZSB3aXRoIDMgc2VjdGlvbnM6XG4xKSBQb3RlbnRpYWwgVHJhbnNjcmlwdGlvbiBFcnJvcnNcbjIpIEhlbHBmdWwgQ29udGVudFxuMykgQ2xpbmljYWwgRG9jdW1lbnQgKHdpdGggaGVhZGluZ3MgZnJvbSB0aGUgY2hvc2VuIHRlbXBsYXRlKVxuQXBwZW5kIHRoZSBwcm92aWRlcuKAmXMgc2lnbi1vZmY6ICR7dXNlclNpZ25PZmYudHJpbSgpIHx8ICdbUHJvdmlkZXIgc2lnbi1vZmYgaGVyZV0nfVxuXG5UcmFuc2NyaXB0OlxuXCJcIlwiXG4ke2NvbnZQcm9tcHR9XG5cIlwiXCJcbiAgICAgIGA7XG5cbiAgICAgIGNvbnN0IGNob3Nlbk1vZGVsID0gdXBkYXRlZENvbnYubW9kZWw7XG4gICAgICBpZiAoIWNob3Nlbk1vZGVsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIG1vZGVsIHNlbGVjdGVkLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGRpc3BhdGNoKHsgZmllbGQ6ICdsb2FkaW5nJywgdmFsdWU6IHRydWUgfSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgIG1vZGVsOiBjaG9zZW5Nb2RlbC5pZCxcbiAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogc3lzdGVtUHJvbXB0IH0sXG4gICAgICAgICAgICAuLi51cGRhdGVkTWVzc2FnZXMubWFwKChtKSA9PiAoeyByb2xlOiBtLnJvbGUsIGNvbnRlbnQ6IG0uY29udGVudCB9KSksXG4gICAgICAgICAgXSxcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICAgIHN0cmVhbTogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgICAgICdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2NoYXQvY29tcGxldGlvbnMnLFxuICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBkaXNwYXRjaCh7IGZpZWxkOiAnbG9hZGluZycsIHZhbHVlOiBmYWxzZSB9KTtcblxuICAgICAgICBsZXQgYXNzaXN0YW50Q29udGVudCA9XG4gICAgICAgICAgcmVzcG9uc2UuZGF0YT8uY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50IHx8ICcnO1xuICAgICAgICBhc3Npc3RhbnRDb250ZW50ID0gYXNzaXN0YW50Q29udGVudC5yZXBsYWNlKC9cXFsuKj9cXF0vZywgJycpO1xuICAgICAgICBhc3Npc3RhbnRDb250ZW50ID0gYXNzaXN0YW50Q29udGVudC5yZXBsYWNlKC9cXCovZywgJycpO1xuXG4gICAgICAgIGNvbnN0IGFzc2lzdGFudE1zZzogTWVzc2FnZSA9IHtcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiBhc3Npc3RhbnRDb250ZW50LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZpbmFsTXNncyA9IFsuLi51cGRhdGVkTWVzc2FnZXMsIGFzc2lzdGFudE1zZ107XG4gICAgICAgIGNvbnN0IGZpbmFsQ29udjogQ29udmVyc2F0aW9uID0ge1xuICAgICAgICAgIC4uLnVwZGF0ZWRDb252LFxuICAgICAgICAgIG1lc3NhZ2VzOiBmaW5hbE1zZ3MsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZmluYWxDb252cyA9IG5ld0NvbnZlcnNhdGlvbnMyLm1hcCgoYykgPT5cbiAgICAgICAgICBjLmlkID09PSBmaW5hbENvbnYuaWQgPyBmaW5hbENvbnYgOiBjXG4gICAgICAgICk7XG5cbiAgICAgICAgZGlzcGF0Y2goeyBmaWVsZDogJ2hhc0NoYXRPdXRwdXQnLCB2YWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgZGlzcGF0Y2goeyBmaWVsZDogJ3NlbGVjdGVkQ29udmVyc2F0aW9uJywgdmFsdWU6IGZpbmFsQ29udiB9KTtcbiAgICAgICAgZGlzcGF0Y2goeyBmaWVsZDogJ2NvbnZlcnNhdGlvbnMnLCB2YWx1ZTogZmluYWxDb252cyB9KTtcblxuICAgICAgICBzYXZlQ29udmVyc2F0aW9uKGZpbmFsQ29udik7XG4gICAgICAgIHNhdmVDb252ZXJzYXRpb25zKGZpbmFsQ29udnMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGRpc3BhdGNoKHsgZmllbGQ6ICdsb2FkaW5nJywgdmFsdWU6IGZhbHNlIH0pO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYWxsaW5nIExMTTonLCBlcnIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgYXBpS2V5LFxuICAgICAgc2VydmVyU2lkZUFwaUtleUlzU2V0LFxuICAgICAgc2VsZWN0ZWRDb252ZXJzYXRpb24sXG4gICAgICBkb2N1bWVudFRpdGxlLFxuICAgICAgbW9kZWxzLFxuICAgICAgY29udmVyc2F0aW9ucyxcbiAgICAgIHVzZXJTaWduT2ZmLFxuICAgICAgZGlzcGF0Y2gsXG4gICAgXVxuICApO1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogMykgQlVJTEQgQ09ORElUSU9OQUxTIElOVE8gQSBTSU5HTEUgUkVUVVJOXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8vIENoZWNraW5nIGNvbmRpdGlvbnM6XG4gIGNvbnN0IG5vQXBpS2V5ID0gIWFwaUtleSAmJiAhc2VydmVyU2lkZUFwaUtleUlzU2V0O1xuICBjb25zdCBub01lc3NhZ2VzID0gIXNlbGVjdGVkQ29udmVyc2F0aW9uIHx8IHNlbGVjdGVkQ29udmVyc2F0aW9uLm1lc3NhZ2VzLmxlbmd0aCA9PT0gMDtcblxuICAvLyBXZSdsbCBidWlsZCBhIHZhcmlhYmxlIGBtYWluQ29udGVudGAgdGhhdCBob2xkcyB0aGUgY2VudHJhbCBVSVxuICBsZXQgbWFpbkNvbnRlbnQ6IFJlYWN0Tm9kZTtcblxuICBpZiAobm9BcGlLZXkpIHtcbiAgICAvLyBTaG93IFwiUGxlYXNlIHNldCB5b3VyIEFQSSBrZXlcIiBtZXNzYWdlXG4gICAgbWFpbkNvbnRlbnQgPSAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gZmxleCBoLWZ1bGwgdy1bMzAwcHhdIGZsZXgtY29sIGp1c3RpZnktY2VudGVyIHNwYWNlLXktNiB0ZXh0LWJsYWNrIHNtOnctWzYwMHB4XVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtMnhsXCI+XG4gICAgICAgICAge3QoJ1BsZWFzZSBzZXQgeW91ciBBUEkga2V5LicpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0gZWxzZSBpZiAobW9kZWxFcnJvcikge1xuICAgIC8vIFNob3cgbW9kZWwgZXJyb3JcbiAgICBtYWluQ29udGVudCA9IDxFcnJvck1lc3NhZ2VEaXYgZXJyb3I9e21vZGVsRXJyb3J9IC8+O1xuICB9IGVsc2UgaWYgKG5vTWVzc2FnZXMpIHtcbiAgICAvLyBJZiBubyBtZXNzYWdlcyBpbiBjb252ZXJzYXRpb24gPT4gc2hvdyB0aGUgXCJzdGFydCBVSVwiXG4gICAgbWFpbkNvbnRlbnQgPSAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIGJvcmRlci1iIGJvcmRlci1ncmF5LTMwMCB3LWZ1bGxcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93IGZsZXgtMSBpdGVtcy1jZW50ZXIganVzdGlmeS1ldmVubHkgcHktNiBweC00IG1kOnB5LTEyXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1bNDUlXSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBib3JkZXIgcm91bmRlZC1sZyBwLTM2IHNoYWRvd1wiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKCcvVm9pY2VNb2RlLnBuZycpXCIsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiAnY292ZXInLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Q2hhdFRleHRUb1NwZWVjaFxuICAgICAgICAgICAgICBvblNlbmQ9eyh1c2VyTXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudE1lc3NhZ2UodXNlck1zZyk7XG4gICAgICAgICAgICAgICAgaGFuZGxlU2VuZCh1c2VyTXNnKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1bNDUlXSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBib3JkZXIgcm91bmRlZC1sZyBwLTM2IHNoYWRvd1wiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKCcvU3RhcnRPZmZpY2VWaXNpdC5wbmcnKVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvdmVyJyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENoYXRTdGFydE9mZmljZVZpc2l0XG4gICAgICAgICAgICAgIG9uU2VuZD17KHVzZXJNc2cpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50TWVzc2FnZSh1c2VyTXNnKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVTZW5kKHVzZXJNc2cpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIFdlIGhhdmUgbWVzc2FnZXMgaW4gY29udmVyc2F0aW9uID0+IHNob3cgZmluYWwgYXNzaXN0YW50IG91dHB1dCwgZXRjLlxuICAgIC8vIFdlJ2xsIHBhcnNlIGZpbmFsQXNzaXN0YW50TWVzc2FnZSB0byBnZXQgcG90ZW50aWFsUmVjcywgaGVscGZ1bENvbnRlbnQsIGRvY1xuICAgIGxldCBwb3RlbnRpYWxSZWNzID0gJyc7XG4gICAgbGV0IGhlbHBmdWxDb250ZW50ID0gJyc7XG4gICAgbGV0IGNsaW5pY2FsRG9jID0gJyc7XG5cbiAgICBpZiAoZmluYWxBc3Npc3RhbnRNZXNzYWdlKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUFzc2lzdGFudE91dHB1dChmaW5hbEFzc2lzdGFudE1lc3NhZ2UuY29udGVudCk7XG4gICAgICBwb3RlbnRpYWxSZWNzID0gcGFyc2VkLnBvdGVudGlhbFJlY3M7XG4gICAgICBoZWxwZnVsQ29udGVudCA9IHBhcnNlZC5oZWxwZnVsQ29udGVudDtcbiAgICAgIGNsaW5pY2FsRG9jID0gcGFyc2VkLmNsaW5pY2FsRG9jO1xuICAgIH1cblxuICAgIGNvbnN0IGRvY1dvcmRDb3VudCA9IGVkaXRlZENsaW5pY2FsRG9jLnRyaW0oKVxuICAgICAgPyBlZGl0ZWRDbGluaWNhbERvYy50cmltKCkuc3BsaXQoL1xccysvKS5sZW5ndGhcbiAgICAgIDogMDtcblxuICAgIG1haW5Db250ZW50ID0gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cbiAgICAgICAgey8qIFRyYW5zY3JpcHQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCBtYi0yXCI+VHJhbnNjcmlwdDwvaDI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQtc20gdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0xMDAgaW5saW5lLWJsb2NrXCI+XG4gICAgICAgICAgICB7c2VsZWN0ZWRDb252ZXJzYXRpb24/Lm1lc3NhZ2VzXG4gICAgICAgICAgICAgIC5maWx0ZXIoKG0pID0+IG0ucm9sZSA9PT0gJ3VzZXInKVxuICAgICAgICAgICAgICAubWFwKChtKSA9PiBtLmNvbnRlbnQpXG4gICAgICAgICAgICAgIC5qb2luKCdcXG4nKSB8fCAnKE5vIHRyYW5zY3JpcHQpJ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxociBjbGFzc05hbWU9XCJteS00IGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGdhcC02XCI+XG4gICAgICAgICAgey8qIExlZnQ6IENsaW5pY2FsIERvY3VtZW50IHcvIGVkaXRpbmcgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWQ6dy0xLzIgYm9yZGVyIHJvdW5kZWQtbWQgcC00IGRhcms6Ym9yZGVyLWdyYXktNjAwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbWRcIj5DbGluaWNhbCBEb2N1bWVudDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICB7ZG9jV29yZENvdW50fSB3b3Jkc1xuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7aXNFZGl0aW5nRG9jID8gKFxuICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC02NCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgZGFyazpib3JkZXItZ3JheS02MDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHAtMiB0ZXh0LXNtIGRhcms6YmctZ3JheS03MDAgZGFyazp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdGVkQ2xpbmljYWxEb2N9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFZGl0ZWRDbGluaWNhbERvYyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIHtlZGl0ZWRDbGluaWNhbERvYyB8fCAnKE5vIGNsaW5pY2FsIGRvY3VtZW50KSd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgZmxleCBnYXAtMiBmbGV4LXdyYXBcIj5cbiAgICAgICAgICAgICAgeyFpc0VkaXRpbmdEb2MgJiYgKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdGluZ0RvYyh0cnVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXNtIGJnLWdyYXktMjAwIGRhcms6YmctZ3JheS02MDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTMwMCBkYXJrOmhvdmVyOmJnLWdyYXktNTAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBFZGl0XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtpc0VkaXRpbmdEb2MgJiYgKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT24gXCJTYXZlLFwiIHJlYnVpbGQgZmluYWwgYXNzaXN0YW50IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaW5hbEFzc2lzdGFudE1lc3NhZ2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFyc2Ugb2xkIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VBc3Npc3RhbnRPdXRwdXQoZmluYWxBc3Npc3RhbnRNZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gcmVidWlsZEFzc2lzdGFudE91dHB1dChcbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQucG90ZW50aWFsUmVjcyxcbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQuaGVscGZ1bENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgZWRpdGVkQ2xpbmljYWxEb2NcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdXBkYXRlZCBtc2dcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZE1zZzogTWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5maW5hbEFzc2lzdGFudE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbmV3Q29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kICYgcmVwbGFjZSBpbiBjb252ZXJzYXRpb25cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNncyA9IFsuLi4oc2VsZWN0ZWRDb252ZXJzYXRpb24/Lm1lc3NhZ2VzIHx8IFtdKV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1zZ3MubGFzdEluZGV4T2YoZmluYWxBc3Npc3RhbnRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBtc2dzW2lkeF0gPSB1cGRhdGVkTXNnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDb252OiBDb252ZXJzYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uc2VsZWN0ZWRDb252ZXJzYXRpb24hLFxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBtc2dzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbnZzID0gY29udmVyc2F0aW9ucy5tYXAoKGMpID0+XG4gICAgICAgICAgICAgICAgICAgICAgYy5pZCA9PT0gdXBkYXRlZENvbnYuaWQgPyB1cGRhdGVkQ29udiA6IGNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyBmaWVsZDogJ2NvbnZlcnNhdGlvbnMnLCB2YWx1ZTogbmV3Q29udnMgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgZmllbGQ6ICdzZWxlY3RlZENvbnZlcnNhdGlvbicsIHZhbHVlOiB1cGRhdGVkQ29udiB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUNvbnZlcnNhdGlvbnMobmV3Q29udnMpO1xuICAgICAgICAgICAgICAgICAgICBzYXZlQ29udmVyc2F0aW9uKHVwZGF0ZWRDb252KTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRJc0VkaXRpbmdEb2MoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgnRWRpdHMgc2F2ZWQhJyk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtc20gYmctYmx1ZS02MDAgdGV4dC13aGl0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNzAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTYXZlXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChlZGl0ZWRDbGluaWNhbERvYyk7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdDbGluaWNhbCBEb2N1bWVudCBjb3BpZWQgdG8gY2xpcGJvYXJkIScpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBjb3B5IHRleHQuJyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgdGV4dC1zbSBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNjAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICByb3VuZGVkIGhvdmVyOmJnLWdyYXktMzAwIGRhcms6aG92ZXI6YmctZ3JheS01MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ29weVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzdGFtcCA9IGAke25vdy5nZXRGdWxsWWVhcigpfSR7KG5vdy5nZXRNb250aCgpICsgMSlcbiAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgLnBhZFN0YXJ0KDIsICcwJyl9JHtub3cuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1fJHtub3dcbiAgICAgICAgICAgICAgICAgICAgLmdldEhvdXJzKClcbiAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgLnBhZFN0YXJ0KDIsICcwJyl9JHtub3dcbiAgICAgICAgICAgICAgICAgICAgLmdldE1pbnV0ZXMoKVxuICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZG9jRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAgICAgICAgIHsgdGV4dDogZG9jdW1lbnRUaXRsZSB8fCAnQ2xpbmljYWwgRG9jdW1lbnQnLCBzdHlsZTogJ2hlYWRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IGVkaXRlZENsaW5pY2FsRG9jLCBtYXJnaW46IFswLCA1LCAwLCAxNV0gfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiB7IGZvbnRTaXplOiAxNCwgYm9sZDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHBkZk1ha2VcbiAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZVBkZihkb2NEZWZpbml0aW9uKVxuICAgICAgICAgICAgICAgICAgICAuZG93bmxvYWQoYCR7c3RhbXB9X0NsaW5pY2FsRG9jLnBkZmApO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtc20gYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTYwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTMwMCBkYXJrOmhvdmVyOmJnLWdyYXktNTAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERvd25sb2FkIFBERlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFJpZ2h0OiBQb3RlbnRpYWwgRXJyb3JzICYgSGVscGZ1bCBDb250ZW50ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1kOnctMS8yIGZsZXggZmxleC1jb2wgZ2FwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbWQgcC00IGRhcms6Ym9yZGVyLWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LW1kIGZvbnQtYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgUG90ZW50aWFsIFRyYW5zY3JpcHRpb24gRXJyb3JzXG4gICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAge3BvdGVudGlhbFJlY3MgfHwgJ05vIGVycm9ycyBmb3VuZC4nfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1tZCBwLTQgZGFyazpib3JkZXItZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbWQgZm9udC1ib2xkIG1iLTJcIj5IZWxwZnVsIENvbnRlbnQ8L2gzPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIHtoZWxwZnVsQ29udGVudCB8fCAnKE5vIGhlbHBmdWwgY29udGVudCknfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBXZSdsbCBhbHNvIGhhbmRsZSBzaG93aW5nIGEgbG9hZGVyIGlmIGdlbmVyYXRpbmdcbiAgY29uc3QgbG9hZGVyID0gbG9hZGluZyA/IDxDaGF0TG9hZGVyIC8+IDogbnVsbDtcblxuICAvLyBUaGUgYm90dG9tIGJhciBzdHlsaW5nXG4gIGNvbnN0IGNoYXRiYXJXaWR0aCA9IDI0MDtcbiAgY29uc3Qgc2lkZVByb21wdGJhcldpZHRoID0gMjQwO1xuICBjb25zdCBib3R0b21CYXJTdHlsZTogQ1NTUHJvcGVydGllcyA9IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogc2hvd0NoYXRiYXIgPyBgJHtjaGF0YmFyV2lkdGh9cHhgIDogJzAnLFxuICAgIHJpZ2h0OiBzaG93U2lkZVByb21wdGJhciA/IGAke3NpZGVQcm9tcHRiYXJXaWR0aH1weGAgOiAnMCcsXG4gIH07XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiA0KSBTSU5HTEUgUkVUVVJOIC0gaW5jbHVkZXMgaGVhZGVyLCBtYWluIGNvbnRlbnQsIGJvdHRvbSBiYXJcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsIGgtZnVsbCBiZy13aGl0ZSBkYXJrOmJnLVsjMzQzNTQxXSB0ZXh0LWJsYWNrIGRhcms6dGV4dC13aGl0ZVwiPlxuXG4gICAgICB7LyogSEVBREVSICovfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJzdGlja3kgdG9wLTAgei0yMCBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBweC00IHB5LTNcIj5cbiAgICAgICAgICA8aW1nIHNyYz1cIi9NZXRyaXhBSS5wbmdcIiBhbHQ9XCJNZXRyaXggQUkgTG9nb1wiIGNsYXNzTmFtZT1cImgtOCBtci0yXCIgLz5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgIE1ldHJpeCBBSSAtIFRoZSBJbnRlbGxpZ2VudCBDbGluaWNhbCBTY3JpYmUgUGxhdGZvcm1cbiAgICAgICAgICA8L2gyPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRG9jdW1lbnQgVGl0bGUsIFRlbXBsYXRlLCBNb2RlbCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS03MDAgcHgtNCBweS0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgey8qIERvY3VtZW50IFRpdGxlICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICBodG1sRm9yPVwiZG9jdW1lbnRUaXRsZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0KCdEb2N1bWVudCBUaXRsZScpfVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cImRvY3VtZW50VGl0bGVcIlxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctWzMwMHB4XSByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS01MDAgcHgtMyBweS0yIHRleHQtc20gdGV4dC1ibGFja1xuICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItZ3JheS00MDBcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgZG9jdW1lbnQgdGl0bGUgaGVyZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtkb2N1bWVudFRpdGxlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUaXRsZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHNldERvY3VtZW50VGl0bGUobmV3VGl0bGUpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZENvbnZlcnNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlVXBkYXRlQ29udmVyc2F0aW9uKHNlbGVjdGVkQ29udmVyc2F0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3VGl0bGUsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFRlbXBsYXRlIGRyb3Bkb3duICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcm91bmRlZC1tZCBiZy1ncmF5LTkwMCBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dUZW1wbGF0ZXNEcm9wZG93bighc2hvd1RlbXBsYXRlc0Ryb3Bkb3duKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2Ake3QoJ1RlbXBsYXRlJyl9OiAke2FjdGl2ZVRlbXBsYXRlTmFtZX1gfVxuICAgICAgICAgICAgICA8SWNvbkNoZXZyb25Eb3duIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7c2hvd1RlbXBsYXRlc0Ryb3Bkb3duICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgbXQtMiB3LVsyMjBweF0gcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMjAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZy13aGl0ZSBwLTIgc2hhZG93LWxnIHotNTBcIj5cbiAgICAgICAgICAgICAgICB7cHJvbXB0cy5tYXAoKHByb21wdCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBrZXk9e3Byb21wdC5pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXI6YmctZ3JheS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlVGVtcGxhdGVOYW1lKHByb21wdC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDb252ZXJzYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVVwZGF0ZUNvbnZlcnNhdGlvbihzZWxlY3RlZENvbnZlcnNhdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdwcm9tcHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvbXB0LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1RlbXBsYXRlc0Ryb3Bkb3duKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3Byb21wdC5uYW1lfVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBNb2RlbCBkcm9wZG93biAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHJvdW5kZWQtbWQgYmctZ3JheS05MDAgcHgtNCBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtd2hpdGUgaG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TW9kZWxzRHJvcGRvd24oIXNob3dNb2RlbHNEcm9wZG93bil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtgJHt0KCdNb2RlbCcpfTogJHthY3RpdmVNb2RlbE5hbWV9YH1cbiAgICAgICAgICAgICAgPEljb25DaGV2cm9uRG93biBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAge3Nob3dNb2RlbHNEcm9wZG93biAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wIG10LTIgdy1bMjIwcHhdIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTIwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmctd2hpdGUgcC0yIHNoYWRvdy1sZyB6LTUwXCI+XG4gICAgICAgICAgICAgICAgey8qIElmIFwiRGlzY2hhcmdlIFN1bW1hcnksXCIgYWRkIFwiSW50ZXJuYWwgTUwgQWxnb3JpdGhtXCIgKi99XG4gICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBiYXNlTW9kZWxzID0gWy4uLm1vZGVsc107XG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVGVtcGxhdGVOYW1lID09PSAnRGlzY2hhcmdlIFN1bW1hcnknKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gYmFzZU1vZGVscy5maW5kKChtKSA9PiBtLmlkID09PSAnaW50ZXJuYWwtbWwnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGJhc2VNb2RlbHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2ludGVybmFsLW1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdJbnRlcm5hbCBNTCBBbGdvcml0aG0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAxNjAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuTGltaXQ6IDQwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlTW9kZWxzO1xuICAgICAgICAgICAgICAgIH0pKCkubWFwKChtKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtleT17bS5pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTIgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXI6YmctZ3JheS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ29udmVyc2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcGRhdGVDb252ZXJzYXRpb24oc2VsZWN0ZWRDb252ZXJzYXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnbW9kZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVNb2RlbE5hbWUobS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93TW9kZWxzRHJvcGRvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7bS5uYW1lfVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgey8qIE1BSU4gQ09OVEVOVCAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtjaGF0Q29udGFpbmVyUmVmfVxuICAgICAgICBvblNjcm9sbD17KCkgPT4ge1xuICAgICAgICAgIGlmICghY2hhdENvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyBzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCwgY2xpZW50SGVpZ2h0IH0gPSBjaGF0Q29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgaWYgKHNjcm9sbFRvcCArIGNsaWVudEhlaWdodCA8IHNjcm9sbEhlaWdodCAtIDgwKSB7XG4gICAgICAgICAgICBzZXRBdXRvU2Nyb2xsRW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEF1dG9TY3JvbGxFbmFibGVkKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfX1cbiAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwYi00MFwiXG4gICAgICA+XG4gICAgICAgIHsvKiogT3VyIG1haW5Db250ZW50IHZhcmlhYmxlIGJ1aWx0IGZyb20gY29uZGl0aW9ucyBhYm92ZSAqL31cbiAgICAgICAge21haW5Db250ZW50fVxuXG4gICAgICAgIHtsb2FkaW5nICYmIDxDaGF0TG9hZGVyIC8+fVxuXG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gY2xhc3NOYW1lPVwiaC0xXCIgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQk9UVE9NIEJBUiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBwYi0yXCIgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgbGVmdDogc2hvd0NoYXRiYXIgPyAnMjQwcHgnIDogJzAnLFxuICAgICAgICByaWdodDogc2hvd1NpZGVQcm9tcHRiYXIgPyAnMjQwcHgnIDogJzAnLFxuICAgICAgfX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTJcIj5cbiAgICAgICAgICA8Q2hhdElucHV0XG4gICAgICAgICAgICBzdG9wQ29udmVyc2F0aW9uUmVmPXtzdG9wQ29udmVyc2F0aW9uUmVmfVxuICAgICAgICAgICAgdGV4dGFyZWFSZWY9e3RleHRhcmVhUmVmfVxuICAgICAgICAgICAgb25TZW5kPXsobXNnLCBwbHVnaW4pID0+IHtcbiAgICAgICAgICAgICAgc2V0Q3VycmVudE1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgICAgaGFuZGxlU2VuZChtc2csIDAsIHBsdWdpbik7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25TY3JvbGxEb3duQ2xpY2s9e3Njcm9sbFRvQm90dG9tfVxuICAgICAgICAgICAgb25SZWdlbmVyYXRlPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChjdXJyZW50TWVzc2FnZSAmJiBzZWxlY3RlZENvbnZlcnNhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBsYXN0IHVzZXIgKyBhc3Npc3RhbnQgbWVzc2FnZVxuICAgICAgICAgICAgICAgIGhhbmRsZVNlbmQoY3VycmVudE1lc3NhZ2UsIDIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgc2hvd1Njcm9sbERvd25CdXR0b249e2ZhbHNlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNT0RBTFMgKi99XG4gICAgICB7b3Blbk1vZGFsID09PSAncHJvZmlsZScgJiYgPFByb2ZpbGVNb2RhbCAvPn1cbiAgICAgIHtvcGVuTW9kYWwgPT09ICd0ZW1wbGF0ZXMnICYmIDxUZW1wbGF0ZXNNb2RhbCAvPn1cbiAgICAgIHtvcGVuTW9kYWwgPT09ICdoZWxwJyAmJiA8SGVscE1vZGFsIC8+fVxuICAgICAge29wZW5Nb2RhbCA9PT0gJ3NldHRpbmdzJyAmJiA8U2V0dGluZ3NNb2RhbCAvPn1cbiAgICAgIHtvcGVuTW9kYWwgPT09ICdwcmVkaWN0aXZlIGFuYWx5dGljcycgJiYgPFByZWRpY3RpdmVBbmFseXRpY3NNb2RhbCAvPn1cbiAgICA8L2Rpdj5cbiAgKTtcbn0pO1xuXG5DaGF0LmRpc3BsYXlOYW1lID0gJ0NoYXQnO1xuZXhwb3J0IGRlZmF1bHQgQ2hhdDtcbiJdLCJuYW1lcyI6WyJJY29uQ2hldnJvbkRvd24iLCJtZW1vIiwidXNlQ2FsbGJhY2siLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJheGlvcyIsInY0IiwidXVpZHY0IiwidXNlVHJhbnNsYXRpb24iLCJwZGZNYWtlIiwicGRmRm9udHMiLCJ2ZnMiLCJ0aHJvdHRsZSIsInNhdmVDb252ZXJzYXRpb24iLCJzYXZlQ29udmVyc2F0aW9ucyIsIkhvbWVDb250ZXh0IiwiQ2hhdExvYWRlciIsIkVycm9yTWVzc2FnZURpdiIsIkNoYXRUZXh0VG9TcGVlY2giLCJDaGF0U3RhcnRPZmZpY2VWaXNpdCIsIkNoYXRJbnB1dCIsIlByb2ZpbGVNb2RhbCIsIlRlbXBsYXRlc01vZGFsIiwiSGVscE1vZGFsIiwiU2V0dGluZ3NNb2RhbCIsIlByZWRpY3RpdmVBbmFseXRpY3NNb2RhbCIsInBhcnNlQXNzaXN0YW50T3V0cHV0IiwiY29udGVudCIsInBvdGVudGlhbFJlY3MiLCJoZWxwZnVsQ29udGVudCIsImNsaW5pY2FsRG9jIiwicG90ZW50aWFsUGF0dGVybiIsImhlbHBmdWxQYXR0ZXJuIiwiY2xpbmljYWxQYXR0ZXJuIiwicG90TWF0Y2giLCJtYXRjaCIsInRyaW0iLCJoZWxwTWF0Y2giLCJkb2NNYXRjaCIsInJlYnVpbGRBc3Npc3RhbnRPdXRwdXQiLCJDaGF0Iiwic3RvcENvbnZlcnNhdGlvblJlZiIsInQiLCJzdGF0ZSIsImFwaUtleSIsInNlcnZlclNpZGVBcGlLZXlJc1NldCIsIm1vZGVsRXJyb3IiLCJsb2FkaW5nIiwiY29udmVyc2F0aW9ucyIsInNlbGVjdGVkQ29udmVyc2F0aW9uIiwib3Blbk1vZGFsIiwibW9kZWxzIiwicHJvbXB0cyIsInVzZXJTaWduT2ZmIiwic2hvd0NoYXRiYXIiLCJzaG93U2lkZVByb21wdGJhciIsImhhc0NoYXRPdXRwdXQiLCJkaXNwYXRjaCIsImhhbmRsZVVwZGF0ZUNvbnZlcnNhdGlvbiIsImF1dG9TY3JvbGxFbmFibGVkIiwic2V0QXV0b1Njcm9sbEVuYWJsZWQiLCJjdXJyZW50TWVzc2FnZSIsInNldEN1cnJlbnRNZXNzYWdlIiwiZG9jdW1lbnRUaXRsZSIsInNldERvY3VtZW50VGl0bGUiLCJuYW1lIiwiYWN0aXZlVGVtcGxhdGVOYW1lIiwic2V0QWN0aXZlVGVtcGxhdGVOYW1lIiwiYWN0aXZlTW9kZWxOYW1lIiwic2V0QWN0aXZlTW9kZWxOYW1lIiwic2hvd1RlbXBsYXRlc0Ryb3Bkb3duIiwic2V0U2hvd1RlbXBsYXRlc0Ryb3Bkb3duIiwic2hvd01vZGVsc0Ryb3Bkb3duIiwic2V0U2hvd01vZGVsc0Ryb3Bkb3duIiwiZWRpdGVkQ2xpbmljYWxEb2MiLCJzZXRFZGl0ZWRDbGluaWNhbERvYyIsImlzRWRpdGluZ0RvYyIsInNldElzRWRpdGluZ0RvYyIsImNoYXRDb250YWluZXJSZWYiLCJtZXNzYWdlc0VuZFJlZiIsInRleHRhcmVhUmVmIiwiZmluYWxBc3Npc3RhbnRNZXNzYWdlIiwic2V0RmluYWxBc3Npc3RhbnRNZXNzYWdlIiwiZm91bmQiLCJtZXNzYWdlcyIsImkiLCJsZW5ndGgiLCJyb2xlIiwidGhyb3R0bGVkU2Nyb2xsRG93biIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJmb2N1cyIsInJvb3QiLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwidW5vYnNlcnZlIiwic2Nyb2xsVG9Cb3R0b20iLCJoYW5kbGVTZW5kIiwibWVzc2FnZSIsImRlbGV0ZUNvdW50IiwicGx1Z2luIiwiYWN0aXZlQ29udiIsImNvbnNvbGUiLCJlcnJvciIsImlkIiwibW9kZWwiLCJtYXhMZW5ndGgiLCJ0b2tlbkxpbWl0IiwibmV3Q29udnMiLCJmaWVsZCIsInZhbHVlIiwidXBkYXRlZE1lc3NhZ2VzIiwic2xpY2UiLCJwdXNoIiwidXBkYXRlZENvbnYiLCJuZXdDb252ZXJzYXRpb25zMiIsImV4aXN0cyIsInNvbWUiLCJjIiwibWFwIiwiY29udlByb21wdCIsInByb21wdCIsInN5c3RlbVByb21wdCIsImNob3Nlbk1vZGVsIiwicmVzcG9uc2UiLCJwYXlsb2FkIiwibSIsInRlbXBlcmF0dXJlIiwic3RyZWFtIiwicG9zdCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYXNzaXN0YW50Q29udGVudCIsImRhdGEiLCJjaG9pY2VzIiwicmVwbGFjZSIsImFzc2lzdGFudE1zZyIsImZpbmFsTXNncyIsImZpbmFsQ29udiIsImZpbmFsQ29udnMiLCJlcnIiLCJub0FwaUtleSIsIm5vTWVzc2FnZXMiLCJtYWluQ29udGVudCIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJvblNlbmQiLCJ1c2VyTXNnIiwicGFyc2VkIiwiZG9jV29yZENvdW50Iiwic3BsaXQiLCJoMiIsImZpbHRlciIsImpvaW4iLCJociIsInRleHRhcmVhIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwiYnV0dG9uIiwib25DbGljayIsIm5ld0NvbnRlbnQiLCJ1cGRhdGVkTXNnIiwibXNncyIsImlkeCIsImxhc3RJbmRleE9mIiwiYWxlcnQiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJub3ciLCJEYXRlIiwic3RhbXAiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJkb2NEZWZpbml0aW9uIiwidGV4dCIsIm1hcmdpbiIsInN0eWxlcyIsImhlYWRlciIsImZvbnRTaXplIiwiYm9sZCIsImNyZWF0ZVBkZiIsImRvd25sb2FkIiwiaDMiLCJsb2FkZXIiLCJjaGF0YmFyV2lkdGgiLCJzaWRlUHJvbXB0YmFyV2lkdGgiLCJib3R0b21CYXJTdHlsZSIsInBvc2l0aW9uIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiaW1nIiwic3JjIiwiYWx0IiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJuZXdUaXRsZSIsImtleSIsInNpemUiLCJiYXNlTW9kZWxzIiwiZmluZCIsInJlZiIsIm9uU2Nyb2xsIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwibXNnIiwib25TY3JvbGxEb3duQ2xpY2siLCJvblJlZ2VuZXJhdGUiLCJzaG93U2Nyb2xsRG93bkJ1dHRvbiIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/Chat/Chat.tsx\n"));

/***/ })

});